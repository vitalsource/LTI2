  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateLti2TcRegistries (20140728170801)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  CREATE TABLE "lti2_tc_deployment_requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reg_key" varchar(255), "reg_password" varchar(255), "partner_url" varchar(255), "status" varchar(255), "tool_id" integer, "tc_profile_guid" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "index_deployment_requests_on_tc_profile_guid" ON "lti2_tc_deployment_requests" ("tc_profile_guid")[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "lti2_tc_registries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "content" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "lti2_tc_tool_consumer_profiles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tc_profile_guid" varchar(255), "tc_profile" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE UNIQUE INDEX "index_tool_consumer_profiles_on_tc_profile_guid" ON "lti2_tc_tool_consumer_profiles" ("tc_profile_guid")
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "lti2_tc_tool_settings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tool_id" integer, "scopeable_id" integer, "scopeable_type" varchar(255), "name" varchar(255), "value" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  CREATE TABLE "lti2_tc_tools" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tool_proxy" text, "is_enabled" boolean, "product_name" varchar(255), "description" varchar(255), "key" varchar(255), "secret" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE UNIQUE INDEX "index_tools_on_key" ON "lti2_tc_tools" ("key")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140728170801"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
Migrating to CreateResource (20140728170802)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mCREATE TABLE "lti2_tc_resources" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tool_id" integer, "resource_type" varchar(255), "resource_name" varchar(255), "description" varchar(255)) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "lti2_tc_links" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "resource_link_label" varchar(255), "is_enabled" boolean, "grade_item_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "course_id" integer, "resource_id" integer, "link_parameters" varchar(255), "is_name_permission" boolean, "is_email_permissions" boolean) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140728170802"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLti2TpRegistries (20140728170807)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lti2_tp_registrations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tenant_key" varchar(255), "tenant_name" varchar(255), "tenant_id" integer, "user_id" varchar(255), "reg_key" varchar(255), "reg_password" varchar(255), "tc_profile_url" varchar(255), "launch_presentation_return_url" varchar(255), "status" varchar(255), "message_type" varchar(255), "tool_consumer_profile_json" text, "tool_profile_json" text, "tool_proxy_json" text, "tool_id" integer, "lti_version" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mCREATE TABLE "lti2_tp_registries" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "content" text, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "lti2_tp_tools" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tool_name" varchar(255), "tool_profile_template" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20140728170807"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "lti2_tc_deployment_requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reg_key" varchar(255), "reg_password" varchar(255), "partner_url" varchar(255), "status" varchar(255), "disposition" varchar(255), "end_registration_id" varchar(255), "tc_profile_guid" varchar(255), "tool_proxy_json" text, "created_at" datetime, "updated_at" datetime) 
SQLite3::SQLException: table "lti2_tc_deployment_requests" already exists: CREATE TABLE "lti2_tc_deployment_requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reg_key" varchar(255), "reg_password" varchar(255), "partner_url" varchar(255), "status" varchar(255), "disposition" varchar(255), "end_registration_id" varchar(255), "tc_profile_guid" varchar(255), "tool_proxy_json" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (0.8ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "lti2_tc_deployment_requests" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reg_key" varchar(255), "reg_password" varchar(255), "partner_url" varchar(255), "status" varchar(255), "disposition" varchar(255), "end_registration_id" varchar(255), "tc_profile_guid" varchar(255), "tool_proxy_json" text, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE UNIQUE INDEX "index_deployment_requests_on_tc_profile_guid" ON "lti2_tc_deployment_requests" ("tc_profile_guid")[0m
  [1m[35m (0.1ms)[0m  ALTER TABLE lti2_tc_deployment_requests CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
SQLite3::SQLException: near "CHARACTER": syntax error: ALTER TABLE lti2_tc_deployment_requests CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[36m (63.5ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(191) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[35m (41.1ms)[0m  CREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `disposition` varchar(255), `end_registration_id` varchar(255), `tc_profile_guid` varchar(255), `tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX `index_deployment_requests_on_tc_profile_guid`  ON `lti2_tc_deployment_requests` (`tc_profile_guid`) [0m
Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE UNIQUE INDEX `index_deployment_requests_on_tc_profile_guid`  ON `lti2_tc_deployment_requests` (`tc_profile_guid`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[35m (0.3ms)[0m  CREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `disposition` varchar(255), `end_registration_id` varchar(255), `tc_profile_guid` varchar(255), `tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
Mysql2::Error: Table 'lti2_tc_deployment_requests' already exists: CREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `disposition` varchar(255), `end_registration_id` varchar(255), `tc_profile_guid` varchar(255), `tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (31.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(191) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (16.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[35m (36.0ms)[0m  CREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `disposition` varchar(255), `end_registration_id` varchar(255), `tc_profile_guid` varchar(255), `tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (5.8ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (10.8ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `reg_key` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (12.7ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `reg_password` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (24.9ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `partner_url` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (16.8ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `status` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (20.2ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `disposition` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (19.3ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `tc_profile_guid` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (20.4ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `end_registration_id` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (19.7ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `tool_proxy_json` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (15.9ms)[0m  CREATE TABLE `lti2_tc_registries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `content` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (13.5ms)[0m  [1mALTER TABLE lti2_tc_registries CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (15.0ms)[0m  ALTER TABLE lti2_tc_registries MODIFY `name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (14.4ms)[0m  [1mALTER TABLE lti2_tc_registries MODIFY `content` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (16.6ms)[0m  CREATE TABLE `lti2_tc_tool_consumer_profiles` (`id` int(11) auto_increment PRIMARY KEY, `tc_profile_guid` varchar(255), `tc_profile` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.3ms)[0m  [1mCREATE UNIQUE INDEX `index_tool_consumer_profiles_on_tc_profile_guid`  ON `lti2_tc_tool_consumer_profiles` (`tc_profile_guid`) [0m
Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE UNIQUE INDEX `index_tool_consumer_profiles_on_tc_profile_guid`  ON `lti2_tc_tool_consumer_profiles` (`tc_profile_guid`) 
  [1m[36m (16.9ms)[0m  [1mDROP DATABASE IF EXISTS `lti2_gem_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `lti2_gem_test` DEFAULT CHARACTER SET `utf8mb4` COLLATE `utf8mb4_unicode_ci`
  [1m[36m (0.3ms)[0m  [1mDROP DATABASE IF EXISTS `lti2_gem_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `lti2_gem_test` DEFAULT CHARACTER SET `utf8mb4` COLLATE `utf8mb4_unicode_ci`
  [1m[36m (89.2ms)[0m  [1mCREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `tool_id` int(11), `tc_profile_guid` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (0.2ms)[0m  CREATE UNIQUE INDEX `index_deployment_requests_on_tc_profile_guid`  ON `lti2_tc_deployment_requests` (`tc_profile_guid`) 
Mysql2::Error: Specified key was too long; max key length is 767 bytes: CREATE UNIQUE INDEX `index_deployment_requests_on_tc_profile_guid`  ON `lti2_tc_deployment_requests` (`tc_profile_guid`) 
  [1m[36m (50.8ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(191) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (15.2ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateLti2ToolConsumerTables (20141215150130)
  [1m[35m (39.1ms)[0m  CREATE TABLE `lti2_tc_deployment_requests` (`id` int(11) auto_increment PRIMARY KEY, `reg_key` varchar(255), `reg_password` varchar(255), `partner_url` varchar(255), `status` varchar(255), `disposition` varchar(255), `end_registration_id` varchar(255), `tc_profile_guid` varchar(255), `tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.3ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (19.2ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `reg_key` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (15.3ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `reg_password` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (21.4ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `partner_url` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (17.0ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `status` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (20.8ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `disposition` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (19.2ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `tc_profile_guid` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (19.5ms)[0m  ALTER TABLE lti2_tc_deployment_requests MODIFY `end_registration_id` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (22.4ms)[0m  [1mALTER TABLE lti2_tc_deployment_requests MODIFY `tool_proxy_json` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (14.0ms)[0m  CREATE TABLE `lti2_tc_registries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `content` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (5.6ms)[0m  [1mALTER TABLE lti2_tc_registries CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (10.4ms)[0m  ALTER TABLE lti2_tc_registries MODIFY `name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (18.8ms)[0m  [1mALTER TABLE lti2_tc_registries MODIFY `content` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE `lti2_tc_tool_consumer_profiles` (`id` int(11) auto_increment PRIMARY KEY, `tc_profile_guid` varchar(255), `tc_profile` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.3ms)[0m  [1mALTER TABLE lti2_tc_tool_consumer_profiles CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (11.9ms)[0m  ALTER TABLE lti2_tc_tool_consumer_profiles MODIFY `tc_profile_guid` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (27.3ms)[0m  [1mALTER TABLE lti2_tc_tool_consumer_profiles MODIFY `tc_profile` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (12.8ms)[0m  CREATE TABLE `lti2_tc_tool_settings` (`id` int(11) auto_increment PRIMARY KEY, `tool_id` int(11), `scopeable_id` int(11), `scopeable_type` varchar(255), `name` varchar(255), `value` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.2ms)[0m  [1mALTER TABLE lti2_tc_tool_settings CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (11.6ms)[0m  ALTER TABLE lti2_tc_tool_settings MODIFY `scopeable_type` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (15.2ms)[0m  [1mALTER TABLE lti2_tc_tool_settings MODIFY `name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (21.0ms)[0m  ALTER TABLE lti2_tc_tool_settings MODIFY `value` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE `lti2_tc_tools` (`id` int(11) auto_increment PRIMARY KEY, `tool_proxy` text, `is_enabled` tinyint(1), `product_name` varchar(255), `description` varchar(255), `key` varchar(255), `secret` varchar(255), `status` varchar(255), `new_deployment_request_id` int(11), `end_registration_id` varchar(255), `registration_return_url` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  ALTER TABLE lti2_tc_tools CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  [1m[36m (28.4ms)[0m  [1mALTER TABLE lti2_tc_tools MODIFY `tool_proxy` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (18.2ms)[0m  ALTER TABLE lti2_tc_tools MODIFY `product_name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (23.6ms)[0m  [1mALTER TABLE lti2_tc_tools MODIFY `description` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (15.7ms)[0m  ALTER TABLE lti2_tc_tools MODIFY `key` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (20.1ms)[0m  [1mALTER TABLE lti2_tc_tools MODIFY `secret` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (21.3ms)[0m  ALTER TABLE lti2_tc_tools MODIFY `status` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (18.8ms)[0m  [1mALTER TABLE lti2_tc_tools MODIFY `registration_return_url` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (19.5ms)[0m  ALTER TABLE lti2_tc_tools MODIFY `end_registration_id` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141215150130')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
Migrating to CreateLti2TcResources (20141215150131)
  [1m[35m (22.4ms)[0m  CREATE TABLE `lti2_tc_resources` (`id` int(11) auto_increment PRIMARY KEY, `tool_id` int(11), `resource_type` varchar(255), `resource_name` varchar(255), `description` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mALTER TABLE lti2_tc_resources CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (11.5ms)[0m  ALTER TABLE lti2_tc_resources MODIFY `resource_type` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (11.4ms)[0m  [1mALTER TABLE lti2_tc_resources MODIFY `resource_name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (20.0ms)[0m  ALTER TABLE lti2_tc_resources MODIFY `description` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE `lti2_tc_links` (`id` int(11) auto_increment PRIMARY KEY, `resource_link_label` varchar(255), `is_enabled` tinyint(1), `grade_item_id` int(11), `course_id` int(11), `resource_id` int(11), `link_parameters` varchar(255), `is_name_permission` tinyint(1), `is_email_permissions` tinyint(1), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (5.9ms)[0m  ALTER TABLE lti2_tc_links CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  [1m[36m (11.4ms)[0m  [1mALTER TABLE lti2_tc_links MODIFY `resource_link_label` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (14.7ms)[0m  ALTER TABLE lti2_tc_links MODIFY `link_parameters` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141215150131')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to InsertToolGuid (20141215150132)
  [1m[35m (23.4ms)[0m  ALTER TABLE `lti2_tc_deployment_requests` ADD `tool_proxy_guid` varchar(255) AFTER `tc_profile_guid`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141215150132')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Migrating to CreateLti2TpResources (20141215150133)
  [1m[35m (41.2ms)[0m  CREATE TABLE `lti2_tp_registrations` (`id` int(11) auto_increment PRIMARY KEY, `tool_id` int(11), `tenant_id` int(11), `tenant_name` varchar(255), `tenant_basename` varchar(255), `user_id` varchar(255), `reg_key` varchar(255), `reg_password` varchar(255), `tc_profile_url` varchar(255), `launch_presentation_return_url` varchar(255), `status` varchar(255), `message_type` varchar(255), `lti_version` varchar(255), `end_registration_id` varchar(255), `tool_consumer_profile_json` text, `tool_profile_json` text, `tool_proxy_json` text, `proposed_tool_proxy_json` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.8ms)[0m  [1mALTER TABLE lti2_tp_registrations CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;[0m
  [1m[35m (12.4ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `tenant_name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (20.6ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `tenant_basename` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (19.1ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `user_id` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (22.7ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `reg_key` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (28.1ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `reg_password` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (20.0ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `tc_profile_url` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (31.1ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `launch_presentation_return_url` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (28.2ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `status` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (30.7ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `message_type` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (22.5ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `lti_version` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (16.0ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `end_registration_id` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;
  [1m[36m (23.5ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `tool_consumer_profile_json` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (17.1ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `tool_profile_json` TEXT CHARACTER SET utf8mb4 NULL;
  [1m[36m (21.8ms)[0m  [1mALTER TABLE lti2_tp_registrations MODIFY `tool_proxy_json` TEXT CHARACTER SET utf8mb4 NULL;[0m
  [1m[35m (19.8ms)[0m  ALTER TABLE lti2_tp_registrations MODIFY `proposed_tool_proxy_json` TEXT CHARACTER SET utf8mb4 NULL;
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE `lti2_tp_registries` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255), `content` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.3ms)[0m  ALTER TABLE lti2_tp_registries CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  [1m[36m (19.3ms)[0m  [1mALTER TABLE lti2_tp_registries MODIFY `name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (16.0ms)[0m  ALTER TABLE lti2_tp_registries MODIFY `content` TEXT CHARACTER SET utf8mb4 NULL;
  [1m[36m (15.8ms)[0m  [1mCREATE TABLE `lti2_tp_tools` (`id` int(11) auto_increment PRIMARY KEY, `tool_name` varchar(255), `tool_profile_template` text, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE lti2_tp_tools CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
  [1m[36m (11.4ms)[0m  [1mALTER TABLE lti2_tp_tools MODIFY `tool_name` VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci NULL;[0m
  [1m[35m (15.5ms)[0m  ALTER TABLE lti2_tp_tools MODIFY `tool_profile_template` TEXT CHARACTER SET utf8mb4 NULL;
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20141215150133')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mLti2Tp::Registry Load (0.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.2ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mLti2Tp::Registry Load (0.3ms)[0m  [1mSELECT `lti2_tp_registries`.* FROM `lti2_tp_registries`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
